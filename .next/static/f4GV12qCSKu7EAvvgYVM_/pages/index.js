(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{O3aY:function(t,e,n){"use strict";n.r(e);var o=n("1OyB"),a=n("vuIU"),r=n("JX7q"),c=n("md7G"),s=n("foSv"),i=n("Ji7U"),u=n("rePB"),l=n("q1tI"),d=n.n(l),f=n("DCcX"),p=n("vkoW"),h=n("CaDr"),m=n("uBiN"),b=n("jrRI"),g=n("3OM0"),v=n("L3zb"),y=n("sOKU"),O=n("2+Kg"),k=n("zYID"),j=d.a.createElement;function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var x=O.b.collection("todos"),E=(l.Component,n("KnIj")),N=d.a.createElement;function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var C=function(t){Object(i.a)(l,t);var e,n=(e=l,function(){var t,n=Object(s.a)(e);if(U()){var o=Object(s.a)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Object(c.a)(this,t)});function l(t){var e;return Object(o.a)(this,l),e=n.call(this,t),Object(u.a)(Object(r.a)(e),"handleKeyPress",(function(t){"Enter"===t.key&&(O.b.collection("todos").add({todo:e.state.noteText}),e.setState({noteText:""}))})),e.state={noteText:"",notes:[{todo:""}],id:[]},e}return Object(a.a)(l,[{key:"componentDidMount",value:function(){var t=this;O.a.onAuthStateChanged((function(e){e?(console.log("user logged in: ",e),O.b.collection("todos").get().then((function(e){e.docs.forEach((function(e){t.setState({notes:e.data(),id:e.id})}))}))):console.log("user logged out")}))}},{key:"updateNoteText",value:function(t){this.setState({noteText:t.target.value})}},{key:"deleteNote",value:function(t){var e=this.state.notes;e.splice(t,1),this.setState({notes:e})}},{key:"render",value:function(){var t=this;return console.log(this.state.notes),console.log(this.state.id),N("div",null,N(k.a,null),N(E.default,{notes:this.state.notes,id:this.state.id}),N("div",{className:"container"},N("div",{className:"button ",onClick:function(e){return t.updateNoteText(e)},style:{fontStyle:"oblique",marginBottom:"10px",marginTop:"80px",color:"#E54E65"}},"Add note"),N("input",{style:{backgroundColor:"#E2CEEE"},placeholder:"Enter Notes",type:"text",className:"input ",ref:function(e){t.textInput=e},value:this.state.noteText,onChange:function(e){return t.updateNoteText(e)},onKeyPress:this.handleKeyPress.bind(this)})))}}]),l}(l.Component);e.default=C},RNiq:function(t,e,n){"use strict";n.r(e);var o=n("q1tI"),a=n.n(o),r=(n("zYID"),n("YFqc"),n("O3aY"),n("8Kt/")),c=n.n(r),s=a.a.createElement,i=function(t){return s("div",null,s(c.a,null,s("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/darkly/bootstrap.min.css"}),s("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/darkly/bootstrap.min.css"})),s("div",null,t.children))},u=n("ZKOl"),l=a.a.createElement;e.default=function(){return l(i,null,l(u.default,null))}},ZKOl:function(t,e,n){"use strict";n.r(e);var o=n("1OyB"),a=n("vuIU"),r=n("JX7q"),c=n("md7G"),s=n("foSv"),i=n("Ji7U"),u=n("rePB"),l=n("q1tI"),d=n.n(l),f=n("DCcX"),p=n("vkoW"),h=n("CaDr"),m=n("uBiN"),b=n("jrRI"),g=n("3OM0"),v=n("L3zb"),y=n("sOKU"),O=n("2+Kg"),k=n("zYID"),j=d.a.createElement;function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var x=O.b.collection("todos"),E=function(t){Object(i.a)(l,t);var e,n=(e=l,function(){var t,n=Object(s.a)(e);if(T()){var o=Object(s.a)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Object(c.a)(this,t)});function l(){var t;return Object(o.a)(this,l),t=n.call(this),Object(u.a)(Object(r.a)(t),"addTodo",(function(e){e.preventDefault();var n=x.doc();n.set({task:t.state.todo,createdAt:(new Date).getTime(),done:!1,id:n.id}).then((function(t){console.log(t)})).catch((function(t){console.error("Error adding document: ",t)}))})),Object(u.a)(Object(r.a)(t),"updateTodo",(function(e){t.toggleUpdate(),e.preventDefault();e.target;var n=t.state.update;x.doc();x.doc(n).update({task:t.username.value}).then((function(t){console.log(t)})).catch((function(t){console.error("Error updating document: ",t)}))})),Object(u.a)(Object(r.a)(t),"deleteTodo",(function(t){x.doc(t.target.value).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(t){console.error("Error removing document: ",t)}))})),Object(u.a)(Object(r.a)(t),"handleUpdate",(function(e){t.toggleUpdate();var n=e.target;t.setState({update:n.value})})),Object(u.a)(Object(r.a)(t),"handleChange",(function(e){var n=e.target;t.setState(Object(u.a)({},n.name,n.value))})),t.state={todos:[],isUpdate:!1,update:""},t.toggleUpdate=t.toggleUpdate.bind(Object(r.a)(t)),t}return Object(a.a)(l,[{key:"toggleUpdate",value:function(){this.setState({isUpdate:!this.state.isUpdate})}},{key:"componentWillMount",value:function(){var t=this;x.orderBy("createdAt").onSnapshot((function(e){var n=[];e.forEach((function(t){n.push(t.data())})),t.setState({todos:n,loaded:!0})}))}},{key:"renderTodoList",value:function(){var t=this,e=this.state.todos.map((function(e,n){return j("div",{className:"card text-dark mb-3 mt-4 ml-3",style:{maxWidth:"50rem",backgroundColor:"#e6ff99"}},j("div",{className:"card-content"},j("div",{className:"card-body"},j("p",{className:"card-text "},j("h3",null,e.task)),j("button",{value:e.id,className:"btn btn-sm btn-danger",onClick:t.deleteTodo,style:{float:"right"}},"X"),j("button",{value:e.id,className:"btn btn-sm btn-info",onClick:t.handleUpdate,style:{float:"right"}},"Update"),j(f.a,{isOpen:t.state.isUpdate,toggle:t.toggleUpdate},j(p.a,{toggle:t.toggleUpdate},"Update"),j(h.a,null,j(m.a,{onSubmit:t.updateTodo},j(b.a,null,j(g.a,{htmlFor:"username"},"Task"),j(v.a,{type:"text",id:"username",name:"username",innerRef:function(e){return t.username=e}})),j(y.a,{type:"submit",value:e.id,color:"primary"},"Update")))))))}));return j("div",null,e)}},{key:"render",value:function(){return console.log(this.state),console.log(this.state.notes),j("div",{className:"App"},j(k.a,null),j("form",{onSubmit:this.addTodo},j("div",{className:"input-group"},j("input",{type:"text",onChange:this.handleChange,name:"todo",style:{backgroundColor:"#E2CEEE",marginTop:"20px",marginLeft:"8px"}}),j("button",{className:"btn btn-primary",type:"submit",onClick:this.addTodo,style:{marginTop:"20px",marginLeft:"8px"}},"Add Todo"))),this.renderTodoList())}}]),l}(l.Component);e.default=E},vlRD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,1,3,5,6,2,4,7]]]);