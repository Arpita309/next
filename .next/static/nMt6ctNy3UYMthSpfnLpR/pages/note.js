(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{ZKOl:function(t,e,a){"use strict";a.r(e);var n=a("1OyB"),o=a("vuIU"),r=a("JX7q"),c=a("md7G"),d=a("foSv"),s=a("Ji7U"),i=a("rePB"),u=a("q1tI"),l=a.n(u),p=a("DCcX"),f=a("vkoW"),m=a("CaDr"),g=a("uBiN"),h=a("jrRI"),b=a("3OM0"),v=a("L3zb"),y=a("sOKU"),O=a("2+Kg"),j=a("zYID"),U=l.a.createElement;function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var T=O.b.collection("todos"),x=function(t){Object(s.a)(u,t);var e,a=(e=u,function(){var t,a=Object(d.a)(e);if(k()){var n=Object(d.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(c.a)(this,t)});function u(){var t;return Object(n.a)(this,u),t=a.call(this),Object(i.a)(Object(r.a)(t),"addTodo",(function(e){e.preventDefault();var a=T.doc();a.set({task:t.state.todo,createdAt:(new Date).getTime(),done:!1,id:a.id}).then((function(t){console.log(t)})).catch((function(t){console.error("Error adding document: ",t)}))})),Object(i.a)(Object(r.a)(t),"updateTodo",(function(e){t.toggleUpdate(),e.preventDefault();e.target;var a=t.state.update;T.doc();T.doc(a).update({task:t.username.value}).then((function(t){console.log(t)})).catch((function(t){console.error("Error updating document: ",t)}))})),Object(i.a)(Object(r.a)(t),"deleteTodo",(function(t){T.doc(t.target.value).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(t){console.error("Error removing document: ",t)}))})),Object(i.a)(Object(r.a)(t),"handleUpdate",(function(e){t.toggleUpdate();var a=e.target;t.setState({update:a.value})})),Object(i.a)(Object(r.a)(t),"handleChange",(function(e){var a=e.target;t.setState(Object(i.a)({},a.name,a.value))})),t.state={todos:[],isUpdate:!1,update:""},t.toggleUpdate=t.toggleUpdate.bind(Object(r.a)(t)),t}return Object(o.a)(u,[{key:"toggleUpdate",value:function(){this.setState({isUpdate:!this.state.isUpdate})}},{key:"componentWillMount",value:function(){var t=this;T.orderBy("createdAt").onSnapshot((function(e){var a=[];e.forEach((function(t){a.push(t.data())})),t.setState({todos:a,loaded:!0})}))}},{key:"renderTodoList",value:function(){var t=this,e=this.state.todos.map((function(e,a){return U("div",{className:"card text-dark mb-3 mt-4 ml-3",style:{maxWidth:"50rem",backgroundColor:"#e6ff99"}},U("div",{className:"card-content"},U("div",{className:"card-body"},U("p",{className:"card-text "},U("h3",null,e.task)),U("button",{value:e.id,className:"btn btn-sm btn-danger",onClick:t.deleteTodo,style:{float:"right"}},"X"),U("button",{value:e.id,className:"btn btn-sm btn-info",onClick:t.handleUpdate,style:{float:"right"}},"Update"),U(p.a,{isOpen:t.state.isUpdate,toggle:t.toggleUpdate},U(f.a,{toggle:t.toggleUpdate},"Update"),U(m.a,null,U(g.a,{onSubmit:t.updateTodo},U(h.a,null,U(b.a,{htmlFor:"username"},"Task"),U(v.a,{type:"text",id:"username",name:"username",innerRef:function(e){return t.username=e}})),U(y.a,{type:"submit",value:e.id,color:"primary"},"Update")))))))}));return U("div",null,e)}},{key:"render",value:function(){return console.log(this.state),console.log(this.state.notes),U("div",{className:"App"},U(j.a,null),U("form",{onSubmit:this.addTodo},U("div",{className:"input-group"},U("input",{type:"text",onChange:this.handleChange,name:"todo",style:{backgroundColor:"#E2CEEE",marginTop:"20px",marginLeft:"8px"}}),U("button",{className:"btn btn-primary",type:"submit",onClick:this.addTodo,style:{marginTop:"20px",marginLeft:"8px"}},"Add Todo"))),this.renderTodoList())}}]),u}(u.Component);e.default=x},h8xI:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/note",function(){return a("ZKOl")}])}},[["h8xI",0,1,3,5,6,2,4,7]]]);