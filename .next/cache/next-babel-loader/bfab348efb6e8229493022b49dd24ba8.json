{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\at\\\\Desktop\\\\todo-next\\\\pages\\\\Note.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { firestore } from '../firebase/fire';\nimport Header from '../components/Navbar';\nconst todoRef = firestore.collection(\"todos\");\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"addTodo\", e => {\n      e.preventDefault();\n      const ref = todoRef.doc();\n      ref.set({\n        task: this.state.todo,\n        createdAt: new Date().getTime(),\n        done: false,\n        id: ref.id\n      }).then(function (docRef) {\n        console.log(docRef);\n      }).catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n    });\n\n    _defineProperty(this, \"deleteTodo\", e => {\n      todoRef.doc(e.target.value).delete().then(function () {\n        console.log(\"Document successfully deleted!\");\n      }).catch(function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      const t = e.target;\n      this.setState({\n        [t.name]: t.value\n      });\n    });\n\n    this.state = {\n      todos: [],\n      notes: []\n    };\n  }\n\n  componentWillMount() {\n    todoRef.orderBy('createdAt').onSnapshot(docSnapShot => {\n      let todos = [];\n      docSnapShot.forEach(doc => {\n        todos.push(doc.data());\n      });\n      this.setState({\n        todos,\n        loaded: true\n      });\n    });\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        console.log('user logged in: ', user);\n        firestore.collection('todos').get().then(querySnapshot => {\n          querySnapshot.docs.forEach(doc => {\n            notes.push(doc.data());\n          }); //const data=doc.data();\n          // console.log(data);\n        });\n      } else {\n        console.log('user logged out');\n      }\n    });\n  }\n\n  renderTodoList() {\n    const ListItem = this.state.todos.map((todo, index) => {\n      return __jsx(\"div\", {\n        className: \"card text-dark mb-3 mt-4 ml-3\",\n        style: {\n          maxWidth: \"50rem\",\n          backgroundColor: \"#e6ff99\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"card-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, __jsx(\"p\", {\n        className: \"card-text \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 32\n        }\n      }, todo.task)), __jsx(\"button\", {\n        value: todo.id,\n        className: \"btn btn-sm btn-danger\",\n        onClick: this.deleteTodo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }\n      }, \"X\"))));\n    });\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, ListItem);\n  }\n\n  render() {\n    console.log(this.state);\n    return __jsx(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, __jsx(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }), __jsx(\"form\", {\n      onSubmit: this.addTodo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      name: \"todo\",\n      style: {\n        backgroundColor: \"#E2CEEE\",\n        marginTop: \"20px\",\n        marginLeft: \"8px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }), __jsx(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      onClick: this.addTodo,\n      style: {\n        marginTop: \"20px\",\n        marginLeft: \"8px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, \"Add Todo\"))), this.renderTodoList());\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/at/Desktop/todo-next/pages/Note.js"],"names":["React","Component","firestore","Header","todoRef","collection","App","constructor","e","preventDefault","ref","doc","set","task","state","todo","createdAt","Date","getTime","done","id","then","docRef","console","log","catch","error","target","value","delete","t","setState","name","todos","notes","componentWillMount","orderBy","onSnapshot","docSnapShot","forEach","push","data","loaded","componentDidMount","auth","onAuthStateChanged","user","get","querySnapshot","docs","renderTodoList","ListItem","map","index","maxWidth","backgroundColor","deleteTodo","render","addTodo","handleChange","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\r\nimport {firestore} from '../firebase/fire'\r\nimport Header from '../components/Navbar';\r\n\r\nconst todoRef = firestore.collection(\"todos\");\r\n\r\nclass App extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      todos: [],\r\n      notes:[]\r\n    }\r\n  }\r\n\r\n  addTodo = (e) => {\r\n    e.preventDefault()\r\n\r\n    const ref = todoRef.doc()\r\n    ref.set({\r\n      task: this.state.todo,\r\n      createdAt:(new Date()).getTime(),\r\n      done: false,\r\n      id: ref.id\r\n    })\r\n    .then(function(docRef) {\r\n      console.log(docRef)\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error adding document: \", error);\r\n    });\r\n  }\r\n\r\n  deleteTodo = (e) => {\r\n    todoRef.doc(e.target.value).delete().then(function() {\r\n      console.log(\"Document successfully deleted!\");\r\n    }).catch(function(error) {\r\n      console.error(\"Error removing document: \", error);\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const t = e.target\r\n    this.setState({\r\n      [t.name]: t.value\r\n    })\r\n  }\r\n\r\n  componentWillMount () {\r\n    todoRef.orderBy('createdAt').onSnapshot((docSnapShot) => {\r\n      let todos = []\r\n      docSnapShot.forEach(doc => {todos.push(doc.data())})\r\n      this.setState({\r\n        todos,\r\n        loaded: true\r\n      })\r\n    })\r\n    \r\n\r\n  }\r\n  componentDidMount(){\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        console.log('user logged in: ', user);\r\n        firestore.collection('todos').get().then(querySnapshot => {\r\n        querySnapshot.docs.forEach(doc=>{\r\n          \r\n          notes.push(doc.data())})\r\n         \r\n         \r\n        \r\n         \r\n         //const data=doc.data();\r\n        // console.log(data);\r\n         \r\n        }) \r\n      } else {\r\n        console.log('user logged out');\r\n        \r\n      }\r\n    })\r\n  }\r\n\r\n  renderTodoList () {\r\n    const ListItem = this.state.todos.map((todo, index) => {\r\n      return (\r\n        <div className=\"card text-dark mb-3 mt-4 ml-3\" style={{maxWidth: \"50rem\",backgroundColor:\"#e6ff99\"}}>\r\n        <div className=\"card-content\">\r\n                \r\n\r\n               \r\n                       \r\n        <div className=\"card-body\">\r\n         \r\n     <p className=\"card-text \"><h3>{todo.task}</h3></p>\r\n     \r\n\r\n        \r\n      \r\n     \r\n      <button value={todo.id} className=\"btn btn-sm btn-danger\" onClick={this.deleteTodo}>X</button>\r\n \r\n </div>\r\n </div>\r\n </div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div>\r\n{ListItem}\r\n      </div>\r\n        \r\n     \r\n    )\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state)\r\n    return (\r\n      \r\n      <div className=\"App\">\r\n        <Header/>\r\n        \r\n        <form onSubmit={this.addTodo}>\r\n          <div className=\"input-group\">\r\n            <input type=\"text\" onChange={this.handleChange} name=\"todo\" style={{backgroundColor:\"#E2CEEE\",marginTop:\"20px\",marginLeft:\"8px\"}} />\r\n            <button className=\"btn btn-primary\" type=\"submit\" onClick={this.addTodo} style={{marginTop:\"20px\",marginLeft:\"8px\"}}>Add Todo</button>\r\n          </div>\r\n        </form>\r\n        {this.renderTodoList()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}