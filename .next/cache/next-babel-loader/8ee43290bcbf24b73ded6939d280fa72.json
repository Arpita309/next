{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\at\\\\Desktop\\\\todo-next\\\\pages\\\\Note.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { firestore, auth } from '../firebase/fire';\nimport Header from '../components/Navbar';\nvar todoRef = firestore.collection(\"todos\");\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"addTodo\", function (e) {\n      e.preventDefault();\n      var ref = todoRef.doc();\n      ref.set({\n        task: _this.state.todo,\n        createdAt: new Date().getTime(),\n        done: false,\n        id: ref.id\n      }).then(function (docRef) {\n        console.log(docRef);\n      })[\"catch\"](function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteTodo\", function (e) {\n      todoRef.doc(e.target.value)[\"delete\"]().then(function () {\n        console.log(\"Document successfully deleted!\");\n      })[\"catch\"](function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      var t = e.target;\n\n      _this.setState(_defineProperty({}, t.name, t.value));\n    });\n\n    _this.state = {\n      todos: [],\n      notes: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      todoRef.orderBy('createdAt').onSnapshot(function (docSnapShot) {\n        var todos = [];\n        docSnapShot.forEach(function (doc) {\n          todos.push(doc.data());\n        });\n\n        _this2.setState({\n          todos: todos,\n          loaded: true\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      auth.onAuthStateChanged(function (user) {\n        if (user) {\n          console.log('user logged in: ', user);\n          firestore.collection('todos').get().then(function (querySnapshot) {\n            querySnapshot.docs.forEach(function (doc) {\n              _this3.setState({\n                notes: doc.data()\n              }); //const data=doc.data();\n              // console.log(data);\n\n            });\n          });\n        } else {\n          console.log('user logged out');\n        }\n      });\n    }\n  }, {\n    key: \"renderTodoList\",\n    value: function renderTodoList() {\n      var _this4 = this;\n\n      var ListItem = this.state.todos.map(function (todo, index) {\n        return __jsx(\"div\", {\n          className: \"card text-dark mb-3 mt-4 ml-3\",\n          style: {\n            maxWidth: \"50rem\",\n            backgroundColor: \"#e6ff99\"\n          },\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 9\n          }\n        }, __jsx(\"div\", {\n          className: \"card-content\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 9\n          }\n        }, __jsx(\"div\", {\n          className: \"card-body\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }\n        }, __jsx(\"p\", {\n          className: \"card-text \",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 6\n          }\n        }, __jsx(\"h3\", {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 32\n          }\n        }, todo.task)), __jsx(\"button\", {\n          value: todo.id,\n          className: \"btn btn-sm btn-danger\",\n          onClick: _this4.deleteTodo,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 7\n          }\n        }, \"X\"))));\n      });\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 7\n        }\n      }, ListItem);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state);\n      console.log(this.state.notes);\n      return __jsx(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 7\n        }\n      }, __jsx(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }), __jsx(\"form\", {\n        onSubmit: this.addTodo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        onChange: this.handleChange,\n        name: \"todo\",\n        style: {\n          backgroundColor: \"#E2CEEE\",\n          marginTop: \"20px\",\n          marginLeft: \"8px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }\n      }), __jsx(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"submit\",\n        onClick: this.addTodo,\n        style: {\n          marginTop: \"20px\",\n          marginLeft: \"8px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }\n      }, \"Add Todo\"))), this.renderTodoList());\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:/Users/at/Desktop/todo-next/pages/Note.js"],"names":["React","Component","firestore","auth","Header","todoRef","collection","App","e","preventDefault","ref","doc","set","task","state","todo","createdAt","Date","getTime","done","id","then","docRef","console","log","error","target","value","t","setState","name","todos","notes","orderBy","onSnapshot","docSnapShot","forEach","push","data","loaded","onAuthStateChanged","user","get","querySnapshot","docs","ListItem","map","index","maxWidth","backgroundColor","deleteTodo","addTodo","handleChange","marginTop","marginLeft","renderTodoList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\r\nimport {firestore,auth} from '../firebase/fire'\r\nimport Header from '../components/Navbar';\r\n\r\nconst todoRef = firestore.collection(\"todos\");\r\n\r\nclass App extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      todos: [],\r\n      notes:[]\r\n    }\r\n  }\r\n\r\n  addTodo = (e) => {\r\n    e.preventDefault()\r\n\r\n    const ref = todoRef.doc()\r\n    ref.set({\r\n      task: this.state.todo,\r\n      createdAt:(new Date()).getTime(),\r\n      done: false,\r\n      id: ref.id\r\n    })\r\n    .then(function(docRef) {\r\n      console.log(docRef)\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error adding document: \", error);\r\n    });\r\n  }\r\n\r\n  deleteTodo = (e) => {\r\n    todoRef.doc(e.target.value).delete().then(function() {\r\n      console.log(\"Document successfully deleted!\");\r\n    }).catch(function(error) {\r\n      console.error(\"Error removing document: \", error);\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const t = e.target\r\n    this.setState({\r\n      [t.name]: t.value\r\n    })\r\n  }\r\n\r\n  componentWillMount () {\r\n    todoRef.orderBy('createdAt').onSnapshot((docSnapShot) => {\r\n      let todos = []\r\n      docSnapShot.forEach(doc => {todos.push(doc.data())})\r\n      this.setState({\r\n        todos,\r\n        loaded: true\r\n      })\r\n    })\r\n    \r\n\r\n  }\r\n  componentDidMount(){\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        console.log('user logged in: ', user);\r\n        firestore.collection('todos').get().then(querySnapshot => {\r\n          \r\n        querySnapshot.docs.forEach(doc=>{\r\n          \r\n         \r\n         \r\n         this.setState({notes:doc.data()\r\n         });\r\n         //const data=doc.data();\r\n        // console.log(data);\r\n         \r\n           })});\r\n      } else {\r\n        console.log('user logged out');\r\n        \r\n      }\r\n    })\r\n  }\r\n\r\n  renderTodoList () {\r\n    const ListItem = this.state.todos.map((todo, index) => {\r\n      return (\r\n        <div className=\"card text-dark mb-3 mt-4 ml-3\" style={{maxWidth: \"50rem\",backgroundColor:\"#e6ff99\"}}>\r\n        <div className=\"card-content\">\r\n                \r\n\r\n               \r\n                       \r\n        <div className=\"card-body\">\r\n         \r\n     <p className=\"card-text \"><h3>{todo.task}</h3></p>\r\n     \r\n\r\n        \r\n      \r\n     \r\n      <button value={todo.id} className=\"btn btn-sm btn-danger\" onClick={this.deleteTodo}>X</button>\r\n \r\n </div>\r\n </div>\r\n </div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div>\r\n{ListItem}\r\n      </div>\r\n        \r\n     \r\n    )\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    console.log(this.state.notes)\r\n    \r\n    return (\r\n      \r\n      <div className=\"App\">\r\n        <Header/>\r\n        \r\n        <form onSubmit={this.addTodo}>\r\n          <div className=\"input-group\">\r\n            <input type=\"text\" onChange={this.handleChange} name=\"todo\" style={{backgroundColor:\"#E2CEEE\",marginTop:\"20px\",marginLeft:\"8px\"}} />\r\n            <button className=\"btn btn-primary\" type=\"submit\" onClick={this.addTodo} style={{marginTop:\"20px\",marginLeft:\"8px\"}}>Add Todo</button>\r\n          </div>\r\n        </form>\r\n        {this.renderTodoList()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}