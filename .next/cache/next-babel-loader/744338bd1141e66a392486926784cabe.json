{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Note from \"./Note\";\nimport Header from '../components/Navbar';\nimport { firestore, auth } from '../firebase/fire';\nimport { CardBody, CardText } from 'reactstrap';\nimport Card from './main';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleKeyPress\", event => {\n      if (event.key === \"Enter\") {\n        // let noteArr = this.state.notes;\n        // noteArr.push(this.state.noteText);\n        //  this.setState({ noteText: ''});\n        firestore.collection('todos').add({\n          todo: this.state.noteText\n        });\n        this.setState({\n          noteText: ''\n        });\n      }\n    });\n\n    this.state = {\n      noteText: '',\n      notes: [{\n        todo: \"\"\n      }],\n      id: []\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        console.log('user logged in: ', user);\n        firestore.collection('todos').get().then(querySnapshot => {\n          querySnapshot.docs.forEach(doc => {\n            this.setState({\n              notes: doc.data(),\n              id: doc.id\n            }); //const data=doc.data();\n            // console.log(data);\n          });\n        });\n      } else {\n        console.log('user logged out');\n      }\n    });\n  }\n\n  updateNoteText(noteText) {\n    this.setState({\n      noteText: noteText.target.value\n    });\n  }\n\n  deleteNote(index) {\n    let noteArr = this.state.notes;\n    noteArr.splice(index, 1);\n    this.setState({\n      notes: noteArr\n    });\n  }\n\n  render() {\n    console.log(this.state.notes);\n    console.log(this.state.id);\n    return __jsx(\"div\", null, __jsx(Header, null), __jsx(Card, {\n      notes: this.state.notes,\n      id: this.state.id\n    }), __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"button \",\n      onClick: noteText => this.updateNoteText(noteText),\n      style: {\n        fontStyle: \"oblique\",\n        marginBottom: \"10px\",\n        marginTop: \"80px\",\n        color: \"#E54E65\"\n      }\n    }, \"Add note\"), __jsx(\"input\", {\n      style: {\n        backgroundColor: \"#E2CEEE\"\n      },\n      placeholder: \"Enter Notes\",\n      type: \"text\",\n      className: \"input \",\n      ref: input => {\n        this.textInput = input;\n      },\n      value: this.state.noteText,\n      onChange: noteText => this.updateNoteText(noteText),\n      onKeyPress: this.handleKeyPress.bind(this)\n    })));\n  }\n\n}\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}