{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\at\\\\Desktop\\\\todo-next\\\\pages\\\\Note.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Navbar, NavbarBrand, Nav, NavbarToggler, Collapse, NavItem, Jumbotron, Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Input, Label, NavLink } from 'reactstrap';\nimport { firestore, auth } from '../firebase/fire';\nimport Header from '../components/Navbar';\nvar todoRef = firestore.collection(\"todos\");\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"addTodo\", function (e) {\n      e.preventDefault();\n      var ref = todoRef.doc();\n      ref.set({\n        task: _this.state.todo,\n        createdAt: new Date().getTime(),\n        done: false,\n        id: ref.id\n      }).then(function (docRef) {\n        console.log(docRef);\n      })[\"catch\"](function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTodo\", function (e) {\n      _this.toggleUpdate();\n\n      e.preventDefault();\n      var a = e.target;\n      var b = _this.state.update;\n      var ref = todoRef.doc();\n      todoRef.doc(b).update({\n        task: a.value\n      }).then(function (docRef) {\n        console.log(docRef);\n      })[\"catch\"](function (error) {\n        console.error(\"Error updating document: \", error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteTodo\", function (e) {\n      todoRef.doc(e.target.value)[\"delete\"]().then(function () {\n        console.log(\"Document successfully deleted!\");\n      })[\"catch\"](function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleUpdate\", function (e) {\n      _this.toggleUpdate();\n\n      var t = e.target;\n\n      _this.setState({\n        update: t.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      var t = e.target;\n\n      _this.setState(_defineProperty({}, t.name, t.value));\n    });\n\n    _this.state = {\n      todos: [],\n      isUpdate: false,\n      update: ''\n    };\n    _this.toggleUpdate = _this.toggleUpdate.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"toggleUpdate\",\n    value: function toggleUpdate() {\n      this.setState({\n        isUpdate: !this.state.isUpdate\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      todoRef.orderBy('createdAt').onSnapshot(function (docSnapShot) {\n        var todos = [];\n        docSnapShot.forEach(function (doc) {\n          todos.push(doc.data());\n        });\n\n        _this2.setState({\n          todos: todos,\n          loaded: true\n        });\n      });\n    }\n  }, {\n    key: \"renderTodoList\",\n    value: function renderTodoList() {\n      var _this3 = this;\n\n      var ListItem = this.state.todos.map(function (todo, index) {\n        return __jsx(\"div\", {\n          className: \"card text-dark mb-3 mt-4 ml-3\",\n          style: {\n            maxWidth: \"50rem\",\n            backgroundColor: \"#e6ff99\"\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }\n        }, __jsx(\"div\", {\n          className: \"card-content\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 9\n          }\n        }, __jsx(\"div\", {\n          className: \"card-body\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 9\n          }\n        }, __jsx(\"p\", {\n          className: \"card-text \",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 6\n          }\n        }, __jsx(\"h3\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 32\n          }\n        }, todo.task)), __jsx(\"button\", {\n          value: todo.id,\n          className: \"btn btn-sm btn-danger\",\n          onClick: _this3.deleteTodo,\n          style: {\n            \"float\": \"right\"\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 7\n          }\n        }, \"X\"), __jsx(\"button\", {\n          value: todo.id,\n          className: \"btn btn-sm btn-info\",\n          onClick: _this3.handleUpdate,\n          style: {\n            \"float\": \"right\"\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }\n        }, \"Update\"), __jsx(Modal, {\n          isOpen: _this3.state.isUpdate,\n          toggle: _this3.toggleUpdate,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 7\n          }\n        }, __jsx(ModalHeader, {\n          toggle: _this3.toggleUpdate,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }\n        }, \"Update\"), __jsx(ModalBody, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }\n        }, __jsx(Form, {\n          onSubmit: _this3.updateTodo,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }\n        }, __jsx(FormGroup, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }\n        }, __jsx(Label, {\n          htmlFor: \"username\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 33\n          }\n        }, \"Task\"), __jsx(Input, {\n          type: \"text\",\n          id: \"username\",\n          name: \"username\",\n          innerRef: function innerRef(input) {\n            return _this3.username = input;\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 33\n          }\n        })), __jsx(Button, {\n          type: \"submit\",\n          value: submit,\n          color: \"primary\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }\n        }, \"Update\")))))));\n      });\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 7\n        }\n      }, ListItem);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state);\n      console.log(this.state.notes);\n      return __jsx(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 7\n        }\n      }, __jsx(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      }), __jsx(\"form\", {\n        onSubmit: this.addTodo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        onChange: this.handleChange,\n        name: \"todo\",\n        style: {\n          backgroundColor: \"#E2CEEE\",\n          marginTop: \"20px\",\n          marginLeft: \"8px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }\n      }), __jsx(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"submit\",\n        onClick: this.addTodo,\n        style: {\n          marginTop: \"20px\",\n          marginLeft: \"8px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }\n      }, \"Add Todo\"))), this.renderTodoList());\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:/Users/at/Desktop/todo-next/pages/Note.js"],"names":["React","Component","Navbar","NavbarBrand","Nav","NavbarToggler","Collapse","NavItem","Jumbotron","Button","Modal","ModalHeader","ModalBody","Form","FormGroup","Input","Label","NavLink","firestore","auth","Header","todoRef","collection","App","e","preventDefault","ref","doc","set","task","state","todo","createdAt","Date","getTime","done","id","then","docRef","console","log","error","toggleUpdate","a","target","b","update","value","t","setState","name","todos","isUpdate","bind","orderBy","onSnapshot","docSnapShot","forEach","push","data","loaded","ListItem","map","index","maxWidth","backgroundColor","deleteTodo","handleUpdate","updateTodo","input","username","submit","notes","addTodo","handleChange","marginTop","marginLeft","renderTodoList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Navbar, NavbarBrand, Nav, NavbarToggler, Collapse, NavItem, Jumbotron,\r\n  Button, Modal, ModalHeader, ModalBody,\r\n  Form, FormGroup, Input, Label,NavLink } from 'reactstrap';\r\n\r\nimport {firestore,auth} from '../firebase/fire'\r\nimport Header from '../components/Navbar';\r\n\r\nconst todoRef = firestore.collection(\"todos\");\r\n\r\nclass App extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      todos: [],\r\n      isUpdate:false,\r\n      update:''\r\n    }\r\n    this.toggleUpdate = this.toggleUpdate.bind(this);\r\n  }\r\n\r\n  addTodo = (e) => {\r\n    e.preventDefault()\r\n\r\n    const ref = todoRef.doc()\r\n    ref.set({\r\n      task: this.state.todo,\r\n      createdAt:(new Date()).getTime(),\r\n      done: false,\r\n      id: ref.id\r\n    })\r\n    .then(function(docRef) {\r\n      console.log(docRef)\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error adding document: \", error);\r\n    });\r\n  }\r\n  toggleUpdate() {\r\n    this.setState({\r\n      isUpdate: !this.state.isUpdate\r\n    });\r\n  }\r\n  updateTodo=(e)=>{\r\n    this.toggleUpdate();\r\n    e.preventDefault();\r\n    const a=e.target\r\n    const b=this.state.update\r\n    const ref = todoRef.doc()\r\n    todoRef.doc(b).update({\r\n     task :a.value\r\n      \r\n  })\r\n    .then(function(docRef) {\r\n      console.log(docRef)\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error updating document: \", error);\r\n    });\r\n    \r\n  }\r\n\r\n  deleteTodo = (e) => {\r\n    todoRef.doc(e.target.value).delete().then(function() {\r\n      console.log(\"Document successfully deleted!\");\r\n    }).catch(function(error) {\r\n      console.error(\"Error removing document: \", error);\r\n    });\r\n  }\r\n  handleUpdate = (e) => {\r\n    this.toggleUpdate();\r\n    const t = e.target\r\n    this.setState({\r\n      update: t.value\r\n    })\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const t = e.target\r\n    this.setState({\r\n      [t.name]: t.value\r\n    })\r\n  }\r\n\r\n  componentWillMount () {\r\n    todoRef.orderBy('createdAt').onSnapshot((docSnapShot) => {\r\n      let todos = []\r\n      docSnapShot.forEach(doc => {todos.push(doc.data())})\r\n      this.setState({\r\n        todos,\r\n        loaded: true\r\n      })\r\n    })\r\n    \r\n\r\n  }\r\n  \r\n\r\n  renderTodoList () {\r\n    const ListItem = this.state.todos.map((todo, index) => {\r\n      return (\r\n        <div className=\"card text-dark mb-3 mt-4 ml-3\" style={{maxWidth: \"50rem\",backgroundColor:\"#e6ff99\"}}>\r\n        <div className=\"card-content\">\r\n                \r\n\r\n               \r\n                       \r\n        <div className=\"card-body\">\r\n         \r\n     <p className=\"card-text \"><h3>{todo.task}</h3></p>\r\n     \r\n\r\n        \r\n      \r\n     \r\n      <button value={todo.id} className=\"btn btn-sm btn-danger\" onClick={this.deleteTodo} style={{float:\"right\"}}>X</button>\r\n      <button  value={todo.id} className=\"btn btn-sm btn-info\" onClick={this.handleUpdate} style={{float:\"right\"}}>Update</button>\r\n     \r\n      <Modal isOpen={this.state.isUpdate} toggle={this.toggleUpdate}> \r\n                <ModalHeader toggle={this.toggleUpdate}>Update</ModalHeader>              \r\n                <ModalBody>\r\n                    <Form  onSubmit={this.updateTodo}>\r\n                    \r\n                               \r\n                            <FormGroup>\r\n                                <Label htmlFor=\"username\">Task</Label>\r\n                                <Input type=\"text\" id=\"username\" name=\"username\"\r\n                                    innerRef={(input) => this.username = input} />\r\n                            </FormGroup>\r\n                            \r\n                            \r\n                            <Button type=\"submit\" value={submit}color=\"primary\">Update</Button>\r\n                        </Form>\r\n                    </ModalBody>\r\n\r\n</Modal>\r\n \r\n </div>\r\n </div>\r\n </div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div>\r\n{ListItem}\r\n      </div>\r\n        \r\n     \r\n    )\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    console.log(this.state.notes)\r\n    \r\n    return (\r\n      \r\n      <div className=\"App\">\r\n        <Header/>\r\n        \r\n        <form onSubmit={this.addTodo}>\r\n          <div className=\"input-group\">\r\n            <input type=\"text\" onChange={this.handleChange} name=\"todo\" style={{backgroundColor:\"#E2CEEE\",marginTop:\"20px\",marginLeft:\"8px\"}} />\r\n            <button className=\"btn btn-primary\" type=\"submit\" onClick={this.addTodo} style={{marginTop:\"20px\",marginLeft:\"8px\"}}>Add Todo</button>\r\n          </div>\r\n        </form>\r\n        {this.renderTodoList()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}